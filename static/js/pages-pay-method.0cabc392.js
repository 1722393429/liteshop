(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pay-method"],{"0d8a":function(e,t,n){var a=n("58ef");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("4f06").default;o("28730916",a,!0,{sourceMap:!1,shadowMode:!1})},"0f6e":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var a={listCell:n("5826").default},o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"paymetods"},[n("v-uni-view",{staticClass:"title"},[e._v(e._s(e.pagelang.selectPlese))]),n("v-uni-radio-group",{staticClass:"uni-flex uni-row",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}},e._l(e.items,(function(t,a){return n("v-uni-label",{key:t.value,staticClass:"uni-list-cell flex-item  uni-list-cell-pd",style:0==a?"border:"+e.borderStr+";":""},[n("v-uni-radio",{attrs:{value:t.value,checked:a===e.current}}),e._v(e._s(t.name))],1)})),1)],1),n("v-uni-view",[n("v-uni-view",{staticClass:"title-price"},[e._v(e._s(e.pagelang.sendPlese)),n("v-uni-text",[e._v(e._s("  "+e.countprice))])],1),n("v-uni-view",{staticClass:"title-desc",domProps:{innerHTML:e._s(e.paydesc)}})],1),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.payqrcode,expression:"payqrcode"}],staticClass:"title-qrcode"},[n("v-uni-image",{attrs:{src:e.payqrcode,mode:"aspectFit"}})],1),e.currisOnlinePay?n("v-uni-view",{staticClass:"onlinepay"},[n("iframe",{attrs:{src:this.payoption.payUrl}})]):e._e(),n("list-cell"),n("list-cell",{staticClass:"pay"},[e.currisOnlinePay?e._e():n("v-uni-view",{staticClass:"cell-input"},[n("v-uni-input",{attrs:{type:"text",placeholder:e.pagelang.enterTransis,maxlength:"256","placeholder-class":"text-color-assist font-size-base"},model:{value:e.transId,callback:function(t){e.transId=t},expression:"transId"}})],1),n("v-uni-view",{staticClass:"cell-finish"},[n("v-uni-button",{attrs:{type:"primary","hover-class":"none",size:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.paidClick.apply(void 0,arguments)}}},[e._v(e._s(e.pagelang.haspaid))])],1)],1)],1)},i=[]},"236e":function(e,t,n){"use strict";var a=n("4ea4");n("99af"),n("4160"),n("c975"),n("498a"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("5530"));n("96cf");var i=a(n("1da1")),r=a(n("5826")),c=n("8d02"),f=n("2371"),s=n("2f62"),d="online",l={components:{listCell:r.default},data:function(){return{transId:"",cachePayPrice:[],current:0,payoption:{},countprice:"",avalibeOnlinePay:!0}},onShow:function(){(0,c.setTheme)(),this.setTitle(),this.currisOnlinePay||this.selectPayway(this.current)},onLoad:function(e){this.debug(e),"null"==e.payUrl&&(e.payUrl=null),e.payUrl&&(e.payUrl=decodeURIComponent(e.payUrl),e.payType=d),this.payoption=e,e.price&&(this.countprice=e.price),this.debug("进入扫码或在线付款页面",e,this.shopinfo),this.currisOnlinePay&&!e.payUrl&&this.fetchPayInfo(),this.jumppay()},methods:{gotoorders:function(){uni.reLaunch({url:"/pages/orders/orders"})},paidClick:function(){var e=this;if(this.currisOnlinePay)this.gotoorders();else{if(this.countprice.indexOf(this.shopinfo.pay_locale_syc)<0&&""==this.transId.trim())return void this.$msg(this.pagelang.enterTransis);(0,f.paidUseBitcode)(this.payoption.orderId,this.payoption.payName,this.transId).then((function(){e.gotoorders()}))}},selectPayway:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a,o,i,r,c,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.current=e,a=t.getbodycolor(),o=0,document.querySelectorAll(".paymetods .flex-item").forEach((function(t){t.style.border=o==e?"1px solid ".concat(a):"1px solid #e2e2e2",o++})),i=t.items[t.current],t.payoption.payName=i.value,t.payoption.payType=i.type,n.prev=7,r=t,c=null,s="".concat(t.payoption.payName,"-").concat(t.payoption.orderId),t.payoption.payName!=t.pagelang.onlineMethod){n.next=16;break}if(!t.cachePayPrice[s]){n.next=16;break}return c=t.cachePayPrice[s],t.innerp(c),n.abrupt("return");case 16:if(!t.cachePayPrice[s]){n.next=20;break}c=t.cachePayPrice[s],n.next=24;break;case 20:return n.next=22,(0,f.calcPayBitcode)(t.payoption.orderId,t.payoption.payName,!0,(function(e){200106==e.code&&r.gotoorders()}));case 22:c=n.sent,t.cachePayPrice[s]=c;case 24:t.countprice=c,t.debug("需要支付",c),n.next=31;break;case 28:n.prev=28,n.t0=n["catch"](7),t.debug(n.t0);case 31:case"end":return n.stop()}}),n,null,[[7,28]])})))()},innerp:function(e){if(this.payoption.oriTotalPrice=e.oriTotalPrice,this.currisOnlinePay&&(this.countprice=this.payoption.oriTotalPrice),e.payUrl){this.payoption.payUrl=e.payUrl,this.currisOnlinePay&&(this.payoption.payType=d);var t=document.querySelector(".onlinepay iframe");t&&!t.src&&(document.querySelector(".onlinepay iframe").src=this.payoption.payUrl)}this.jumppay()},jumppay:function(){this.issafariBrowser()&&this.payoption.payType==d&&this.payoption.payUrl&&(window.location=this.payoption.payUrl)},fetchPayInfo:function(){var e=this,t="".concat(this.pagelang.onlineMethod,"-").concat(this.payoption.orderId);try{if(this.cachePayPrice[t]){var n=this.cachePayPrice[t];this.innerp(n)}else(0,f.payInfo)(this.payoption.orderId,!1).then((function(n){e.cachePayPrice[t]=n,e.innerp(n)}))}catch(a){this.debug(a)}},setTitle:function(){var e=this.pagelang.paymethod;uni.setNavigationBarTitle({title:e})},radioChange:function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].value===e.detail.value){this.selectPayway(t);break}}},computed:(0,o.default)((0,o.default)({borderStr:function(){var e=this.getbodycolor();return"1px solid ".concat(e)},currisOnlinePay:function(){var e=this.items[this.current];return e.type==d},paydesc:function(){var e,t=this.items[this.current];return e="bitcode"==t.type?this.shopinfo.safe_pay_infos[t.index].text:this.pagelang.onlineText,e},payqrcode:function(){var e,t=this.items[this.current];return"bitcode"==t.type?(e=this.shopinfo.safe_pay_infos[t.index].qrcode,this.debug(e),e):null},items:function(){var e=[];if(this.avalibeOnlinePay=this.payoption.payType==d||this.shopinfo.online_pay_enable,this.avalibeOnlinePay){var t={value:"OnlinePay",name:this.pagelang.onlineMethod,type:d};e.push(t)}if(1==this.shopinfo.safe_pay_enable)for(var n in this.shopinfo.safe_pay_infos){var a=this.shopinfo.safe_pay_infos[n],o={index:n,value:a.name,name:a.name,type:"bitcode"};e.push(o)}return e}},(0,s.mapState)(["shopinfo"])),{},{pagelang:function(){return this.lang("pay")}})};t.default=l},"26a6":function(e,t,n){"use strict";n.r(t);var a=n("236e"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},"27a0":function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"tui-cell-class tui-list-cell",class:{"tui-cell-arrow":e.arrow,"tui-cell-last":e.last,"tui-line-left":e.lineLeft,"tui-line-right":e.lineRight,"tui-radius":e.radius},style:{background:e.bgcolor,fontSize:e.size+"rpx",color:e.color,padding:e.padding},attrs:{"hover-class":e.hover?"tui-cell-hover":"","hover-stay-time":150},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClick.apply(void 0,arguments)}}},[e._t("default"),e.arrow?n("v-uni-image",{staticClass:"arrow",attrs:{src:"/static/images/navigator-1.png"}}):e._e()],2)},i=[]},"470e":function(e,t,n){"use strict";n("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"ListCell",props:{arrow:{type:Boolean,default:!1},hover:{type:Boolean,default:!0},lineLeft:{type:Boolean,default:!1},lineRight:{type:Boolean,default:!1},padding:{type:String,default:"26rpx 30rpx"},last:{type:Boolean,default:!1},radius:{type:Boolean,default:!1},bgcolor:{type:String,default:"#fff"},size:{type:Number,default:28},color:{type:String,default:"#5A5B5C"},index:{type:Number,default:0}},methods:{handleClick:function(){this.$emit("click",{index:this.index})}}};t.default=a},5826:function(e,t,n){"use strict";n.r(t);var a=n("27a0"),o=n("ea4d");for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("9af8");var r,c=n("f0c5"),f=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"4f962fb9",null,!1,a["a"],r);t["default"]=f.exports},"58ef":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_1789197_z1gzlwq7idq.ttf?t=1589441233693) format("truetype")}.icon[data-v-4f962fb9]{width:1em;height:1em;vertical-align:-.15em;fill:currentColor;overflow:hidden}.iconfont[data-v-4f962fb9]{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.iconshoucang[data-v-4f962fb9]:before{content:"\\e667"}.iconshoucangfill[data-v-4f962fb9]:before{content:"\\e6c9"}.iconjifen[data-v-4f962fb9]:before{content:"\\e642"}.iconradio-button-off[data-v-4f962fb9]:before{content:"\\e688"}.iconradio-button-on[data-v-4f962fb9]:before{content:"\\e689"}.iconhelp[data-v-4f962fb9]:before{content:"\\e752"}.iconwxpay[data-v-4f962fb9]:before{content:"\\e611"}.iconbalance[data-v-4f962fb9]:before{content:"\\e619"}.iconadd-select[data-v-4f962fb9]:before{content:"\\e7b0"}.iconsami-select[data-v-4f962fb9]:before{content:"\\e7b1"}.iconmap[data-v-4f962fb9]:before{content:"\\e758"}.iconsuccess[data-v-4f962fb9]:before{content:"\\e767"}.iconsuccess-fill[data-v-4f962fb9]:before{content:"\\e78d"}.iconiconset0136[data-v-4f962fb9]:before{content:"\\e623"}.iconzan[data-v-4f962fb9]:before{content:"\\e640"}.iconjifenqiandao[data-v-4f962fb9]:before{content:"\\e6a6"}.iconshouyeshouye[data-v-4f962fb9]:before{content:"\\e606"}.icondaohang[data-v-4f962fb9]:before{content:"\\e641"}.iconwodelianxikefu[data-v-4f962fb9]:before{content:"\\e671"}.iconwodexinyuan[data-v-4f962fb9]:before{content:"\\e675"}.iconphone[data-v-4f962fb9]:before{content:"\\e6dd"}.icondingdan[data-v-4f962fb9]:before{content:"\\e645"}.iconliwu[data-v-4f962fb9]:before{content:"\\e61c"}.iconyinpinyinliao[data-v-4f962fb9]:before{content:"\\e60d"}.iconyinpin[data-v-4f962fb9]:before{content:"\\e70b"}.iconwaimaixinxi[data-v-4f962fb9]:before{content:"\\e685"}.iconico[data-v-4f962fb9]:before{content:"\\e646"}.iconwode[data-v-4f962fb9]:before{content:"\\e616"}.icongengduofuwu[data-v-4f962fb9]:before{content:"\\e607"}.iconqucan[data-v-4f962fb9]:before{content:"\\e625"}.iconyou[data-v-4f962fb9]:before{content:"\\e618"}.iconshouhuodizhi[data-v-4f962fb9]:before{content:"\\e666"}.iconshangcheng[data-v-4f962fb9]:before{content:"\\e63b"}.iconadd[data-v-4f962fb9]:before{content:"\\e742"}.iconarrow-right[data-v-4f962fb9]:before{content:"\\e743"}.iconarrow-lift[data-v-4f962fb9]:before{content:"\\e744"}.iconarrow-up[data-v-4f962fb9]:before{content:"\\e745"}.iconclose[data-v-4f962fb9]:before{content:"\\e747"}.iconleftbutton[data-v-4f962fb9]:before{content:"\\e755"}.iconreduce[data-v-4f962fb9]:before{content:"\\e75e"}.iconseleted[data-v-4f962fb9]:before{content:"\\e763"}.iconRightbutton[data-v-4f962fb9]:before{content:"\\e765"}.iconleftbutton-fill[data-v-4f962fb9]:before{content:"\\e782"}.iconRightbutton-fill[data-v-4f962fb9]:before{content:"\\e78a"}.iconarrow-down[data-v-4f962fb9]:before{content:"\\e7b2"}.iconaixin1[data-v-4f962fb9]:before{content:"\\e63c"}.tui-list-cell[data-v-4f962fb9]{position:relative;width:100%;box-sizing:border-box;overflow:hidden;display:flex;align-items:center}.tui-radius[data-v-4f962fb9]{border-radius:%?12?%;overflow:hidden}.tui-cell-hover[data-v-4f962fb9]{background:#f7f7f9!important}.tui-list-cell[data-v-4f962fb9]::after{content:"";position:absolute;border-bottom:%?2?% solid #eee;-webkit-transform:scaleY(.8);transform:scaleY(.8);bottom:0;right:0;left:0}.tui-line-left[data-v-4f962fb9]::after{left:%?30?%!important}.tui-line-right[data-v-4f962fb9]::after{right:%?30?%!important}.tui-cell-last[data-v-4f962fb9]::after{border-bottom:0!important}.arrow[data-v-4f962fb9]{width:%?50?%;height:%?50?%;position:relative;margin-right:%?-10?%;flex-shrink:0}',""]),e.exports=t},"5b13":function(e,t,n){var a=n("7dcf");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("4f06").default;o("1b2471e6",a,!0,{sourceMap:!1,shadowMode:!1})},6656:function(e,t,n){"use strict";var a=n("5b13"),o=n.n(a);o.a},"7dcf":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_1789197_z1gzlwq7idq.ttf?t=1589441233693) format("truetype")}.icon[data-v-647b723a]{width:1em;height:1em;vertical-align:-.15em;fill:currentColor;overflow:hidden}.iconfont[data-v-647b723a]{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.iconshoucang[data-v-647b723a]:before{content:"\\e667"}.iconshoucangfill[data-v-647b723a]:before{content:"\\e6c9"}.iconjifen[data-v-647b723a]:before{content:"\\e642"}.iconradio-button-off[data-v-647b723a]:before{content:"\\e688"}.iconradio-button-on[data-v-647b723a]:before{content:"\\e689"}.iconhelp[data-v-647b723a]:before{content:"\\e752"}.iconwxpay[data-v-647b723a]:before{content:"\\e611"}.iconbalance[data-v-647b723a]:before{content:"\\e619"}.iconadd-select[data-v-647b723a]:before{content:"\\e7b0"}.iconsami-select[data-v-647b723a]:before{content:"\\e7b1"}.iconmap[data-v-647b723a]:before{content:"\\e758"}.iconsuccess[data-v-647b723a]:before{content:"\\e767"}.iconsuccess-fill[data-v-647b723a]:before{content:"\\e78d"}.iconiconset0136[data-v-647b723a]:before{content:"\\e623"}.iconzan[data-v-647b723a]:before{content:"\\e640"}.iconjifenqiandao[data-v-647b723a]:before{content:"\\e6a6"}.iconshouyeshouye[data-v-647b723a]:before{content:"\\e606"}.icondaohang[data-v-647b723a]:before{content:"\\e641"}.iconwodelianxikefu[data-v-647b723a]:before{content:"\\e671"}.iconwodexinyuan[data-v-647b723a]:before{content:"\\e675"}.iconphone[data-v-647b723a]:before{content:"\\e6dd"}.icondingdan[data-v-647b723a]:before{content:"\\e645"}.iconliwu[data-v-647b723a]:before{content:"\\e61c"}.iconyinpinyinliao[data-v-647b723a]:before{content:"\\e60d"}.iconyinpin[data-v-647b723a]:before{content:"\\e70b"}.iconwaimaixinxi[data-v-647b723a]:before{content:"\\e685"}.iconico[data-v-647b723a]:before{content:"\\e646"}.iconwode[data-v-647b723a]:before{content:"\\e616"}.icongengduofuwu[data-v-647b723a]:before{content:"\\e607"}.iconqucan[data-v-647b723a]:before{content:"\\e625"}.iconyou[data-v-647b723a]:before{content:"\\e618"}.iconshouhuodizhi[data-v-647b723a]:before{content:"\\e666"}.iconshangcheng[data-v-647b723a]:before{content:"\\e63b"}.iconadd[data-v-647b723a]:before{content:"\\e742"}.iconarrow-right[data-v-647b723a]:before{content:"\\e743"}.iconarrow-lift[data-v-647b723a]:before{content:"\\e744"}.iconarrow-up[data-v-647b723a]:before{content:"\\e745"}.iconclose[data-v-647b723a]:before{content:"\\e747"}.iconleftbutton[data-v-647b723a]:before{content:"\\e755"}.iconreduce[data-v-647b723a]:before{content:"\\e75e"}.iconseleted[data-v-647b723a]:before{content:"\\e763"}.iconRightbutton[data-v-647b723a]:before{content:"\\e765"}.iconleftbutton-fill[data-v-647b723a]:before{content:"\\e782"}.iconRightbutton-fill[data-v-647b723a]:before{content:"\\e78a"}.iconarrow-down[data-v-647b723a]:before{content:"\\e7b2"}.iconaixin1[data-v-647b723a]:before{content:"\\e63c"}.uni-flex[data-v-647b723a]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.uni-row[data-v-647b723a]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.flex-item[data-v-647b723a]{width:25%;height:30px;text-align:center;line-height:30px}.title-qrcode uni-image[data-v-647b723a]{width:100%;max-height:300px}.title-desc[data-v-647b723a]{width:-webkit-fit-content;width:fit-content;margin:10px;font-size:12px;color:#919293;white-space:break-spaces}.title-price[data-v-647b723a]{color:#3b3c3e;margin:%?20?%;text-align:center;font-size:%?36?%}.onlinepay iframe[data-v-647b723a]{display:block;border:0;width:100%;height:380px}.paymetods .title[data-v-647b723a]{font-size:12px;margin:10px;font-weight:700;color:#919293}.paymetods .flex-item[data-v-647b723a]{margin:0 3px;border-radius:3px;font-size:12px;border:1px solid #e2e2e2}.paymetods .flex-item .uni-radio-input.uni-radio-input-checked[data-v-647b723a]:before{font-size:12px!important;background-color:red!important;border-color:red!important}.pay[data-v-647b723a]{flex-direction:column}.pay[data-v-647b723a]::after{border-bottom:0 solid #eee}.pay .cell-finish[data-v-647b723a]{width:100%;text-align:-webkit-center}.pay .cell-input[data-v-647b723a]{width:100%;margin:0 0 10px 0}uni-radio .uni-radio-input[data-v-647b723a]{font-size:12px!important}.theme-b .title-price uni-text[data-v-647b723a]{color:#008deb}.theme-y .title-price uni-text[data-v-647b723a]{color:#ffc815}.theme-o .title-price uni-text[data-v-647b723a]{color:#ff4d3d}.theme-h .title-price uni-text[data-v-647b723a]{color:#505050}',""]),e.exports=t},"9af8":function(e,t,n){"use strict";var a=n("0d8a"),o=n.n(a);o.a},d43c:function(e,t,n){"use strict";n.r(t);var a=n("0f6e"),o=n("26a6");for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("6656");var r,c=n("f0c5"),f=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"647b723a",null,!1,a["a"],r);t["default"]=f.exports},ea4d:function(e,t,n){"use strict";n.r(t);var a=n("470e"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a}}]);